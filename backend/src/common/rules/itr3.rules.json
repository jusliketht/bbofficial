{
  "itrType": "ITR3",
  "description": "For individuals and HUFs having income from business or profession",
  "sections": [
    "personalInfo",
    "businessIncome",
    "professionalIncome",
    "otherIncome",
    "deductions",
    "taxComputation"
  ],
  "requiredFields": {
    "personalInfo": ["firstName", "lastName", "panNumber", "dateOfBirth"],
    "businessIncome": [],
    "professionalIncome": [],
    "otherIncome": [],
    "deductions": []
  },
  "incomeSources": {
    "salary": {
      "required": false,
      "maxAmount": 999999999,
      "description": "Income from salary"
    },
    "businessIncome": {
      "required": false,
      "maxAmount": 999999999,
      "description": "Income from business"
    },
    "professionalIncome": {
      "required": false,
      "maxAmount": 999999999,
      "description": "Income from profession"
    },
    "houseProperty": {
      "required": false,
      "maxAmount": 999999999,
      "description": "Income from house property"
    },
    "capitalGains": {
      "required": false,
      "maxAmount": 999999999,
      "description": "Income from capital gains"
    },
    "otherIncome": {
      "required": false,
      "maxAmount": 999999999,
      "description": "Income from other sources"
    }
  },
  "businessDetails": {
    "businessName": {
      "required": false,
      "maxLength": 100,
      "description": "Name of the business"
    },
    "businessNature": {
      "required": false,
      "maxLength": 200,
      "description": "Nature of business"
    },
    "businessAddress": {
      "required": false,
      "maxLength": 500,
      "description": "Business address"
    }
  },
  "professionalDetails": {
    "professionName": {
      "required": false,
      "maxLength": 100,
      "description": "Name of the profession"
    },
    "professionNature": {
      "required": false,
      "maxLength": 200,
      "description": "Nature of profession"
    },
    "professionAddress": {
      "required": false,
      "maxLength": 500,
      "description": "Professional address"
    }
  },
  "deductions": {
    "section80C": {
      "maxAmount": 150000,
      "description": "Life insurance premium, PF, PPF, ELSS, etc."
    },
    "section80D": {
      "maxAmount": 25000,
      "description": "Medical insurance premium"
    },
    "section80G": {
      "maxAmount": 100000,
      "description": "Donations to charitable institutions"
    },
    "section80TTA": {
      "maxAmount": 10000,
      "description": "Interest on savings account"
    },
    "section80EE": {
      "maxAmount": 50000,
      "description": "Interest on home loan for first-time home buyers"
    },
    "section80EEA": {
      "maxAmount": 150000,
      "description": "Interest on home loan for affordable housing"
    },
    "section80CCD": {
      "maxAmount": 50000,
      "description": "Contribution to NPS"
    },
    "section80CCE": {
      "maxAmount": 50000,
      "description": "Additional contribution to NPS"
    }
  },
  "validationRules": {
    "panNumber": {
      "pattern": "^[A-Z]{5}[0-9]{4}[A-Z]{1}$",
      "required": true
    },
    "email": {
      "pattern": "^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",
      "required": true
    },
    "phone": {
      "pattern": "^[6-9]\\d{9}$",
      "required": false
    },
    "businessIncome": {
      "grossReceipts": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Gross receipts/turnover must be non-negative"
      },
      "openingStock": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Opening stock must be non-negative"
      },
      "closingStock": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Closing stock must be non-negative"
      },
      "purchases": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Purchases must be non-negative"
      },
      "expenses": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Expenses must be non-negative"
      },
      "depreciation": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Depreciation must be non-negative"
      },
      "validationChecks": {
        "closingStockCheck": {
          "description": "Closing stock should not exceed opening stock + purchases (with 10% tolerance)",
          "enabled": true
        },
        "expenseReasonableness": {
          "description": "Total expenses should not exceed gross receipts (with tolerance for losses)",
          "enabled": true,
          "tolerance": 0.2
        }
      }
    },
    "professionalIncome": {
      "professionalFees": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Professional fees must be non-negative"
      },
      "expenses": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Professional expenses must be non-negative"
      },
      "depreciation": {
        "min": 0,
        "max": 999999999999,
        "required": false,
        "description": "Depreciation must be non-negative"
      },
      "validationChecks": {
        "expenseReasonableness": {
          "description": "Professional expenses should be reasonable compared to fees",
          "enabled": true,
          "maxPercentage": 90
        }
      }
    },
    "balanceSheet": {
      "assets": {
        "min": 0,
        "max": 999999999999,
        "description": "Total assets must be non-negative"
      },
      "liabilities": {
        "min": 0,
        "max": 999999999999,
        "description": "Total liabilities must be non-negative"
      },
      "balanceCheck": {
        "description": "Assets must equal Liabilities + Capital",
        "enabled": true,
        "tolerance": 0.01
      }
    },
    "auditInfo": {
      "isAuditApplicable": {
        "type": "boolean",
        "required": false
      },
      "auditReportNumber": {
        "required": {
          "condition": "isAuditApplicable === true",
          "message": "Audit report number is required when audit is applicable"
        },
        "maxLength": 50
      },
      "auditReportDate": {
        "required": {
          "condition": "isAuditApplicable === true",
          "message": "Audit report date is required when audit is applicable"
        },
        "maxDate": "today",
        "description": "Audit report date cannot be in the future"
      },
      "caDetails": {
        "required": {
          "condition": "isAuditApplicable === true",
          "message": "CA details are required when audit is applicable"
        },
        "caName": {
          "required": {
            "condition": "isAuditApplicable === true"
          },
          "maxLength": 100
        },
        "membershipNumber": {
          "required": {
            "condition": "isAuditApplicable === true"
          },
          "pattern": "^[0-9]{6,8}$",
          "description": "ICAI membership number"
        }
      }
    }
  },
  "restrictions": {
    "businessIncome": true,
    "professionalIncome": true,
    "capitalGains": true,
    "foreignIncome": false,
    "agriculturalIncome": false
  }
}
